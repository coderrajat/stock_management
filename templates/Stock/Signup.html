{% load static %}
<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <title>STMS</title>
    <link rel="shortcut icon" href="{% static 'assets/img/favicon.ico' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body>
    <div class="root">
        {% include "Stock/includes/header.html"  %}
       
        <div class="d-flex flex-column align-items-center justify-content-center p-1">
            {% if messages %}
            {% for message in messages %}
            {% if message.tags == 'error' %}
            <div class="alert alert-warning alert-dismissible fade show" role="alert">
                {{message}}
                <button type="button" class="border-0 bg-transparent close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            {% endif %}
            {% if message.tags == 'success' %}
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                {{message}}
                <button type="button" class="border-0 bg-transparent close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            {% endif %}
            {% endfor %}
            {% endif %}
            <form action="{% url 'registration' %}" method="post">
                {% csrf_token %}
                <div class="loginformlabel">SignUp</div>
                <div class='login p-1'>
                    <div class='container d-flex justify-content-center'>
                        <div class="SignUpform align-items-center">
                            <div class="d-flex flex-column mb-2">
                                <label>profile</label>
                                <input class="form-control" name="image" id="file"
                                onchange="return fileValidation()"  type='file' required/>
                            </div>
                            <div class="d-flex mb-2">
                                <div class="col-6 p-1">
                                    <label>First Name</label>
                                    <input class="form-control" name='first_name' type='text'
                                        placeholder="First Name" required />
                                </div>
                                <div class=" col-6 p-1">
                                    <label>Last Name</label>
                                    <input class="form-control" name='last_name' type='text' placeholder="Last Name" required/>

                                </div>
                            </div>
                            <div class="d-flex mb-2">
                                <div class="col-6 p-1">
                                    <label>Email</label>
                                    <input class="form-control" name='email' type='email'
                                        placeholder="example@email.com" required/>

                                </div>

                                <div class=" col-6 p-1">
                                    <label>Phone Number</label>
                                    <input class="form-control" name='phone_number' type='tel'
                                        placeholder="Phone Number" pattern="[0-9]{10}" title="Phone number must be 10 digits" required/>

                                </div>

                            </div>
                            
                            <div class="d-flex mb-2">
                                <div class="col-6 p-1">
                                    <label>Password</label>
                                    <input class="form-control" name='password' pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" type='password'
                                        placeholder="passsword" required/>

                                </div>

                                <div class="col-6 p-1">
                                    <label>Confirm Password</label>
                                    <input class="form-control" name='confirm_password' pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" type='password'
                                        placeholder="passsword" required/>

                                </div>

                            </div>


                            <div>
                                <button class="loginbutton"  type="submit">SignUp</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        {% include "Stock/includes/footer.html"  %}
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>


        <script>
            function fileValidation() {
                var fileInput =
                    document.getElementById('file');
                 
                var filePath = fileInput.value;
             
                // Allowing file type
                var allowedExtensions =
                    /(\.jpg|\.jpeg|\.svg|\.png|\.webp)$/i;
                 
                if (!allowedExtensions.exec(filePath)) {
                    alert('File must be in (.jpg, .png, .jpeg, .svg) formate ');
                    fileInput.value = '';
                    return false;
                }
            }
        </script>
</body>


</html>